{"version":3,"file":"static/js/680.11547549.chunk.js","mappings":"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","sources":["pages/HomePage/HomePage.jsx","services/API.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nimport { Loader, MovieList } from 'components';\n\nimport API from 'services/API';\n\nimport { Container } from 'styles/Container.styled';\n\nconst api = new API();\n\nfunction HomePage() {\n  const [trends, setTrends] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    getTrends();\n  }, []);\n\n  async function getTrends() {\n    try {\n      setLoading(true);\n      const { results } = await api.fetchTrends();\n      setTrends(results);\n    } catch (error) {\n      console.log(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <Container>\n      {loading && <Loader />}\n      {Boolean(trends) && (\n        <>\n          <h1>Trending today</h1>\n          <MovieList array={trends} />\n        </>\n      )}\n    </Container>\n  );\n}\n\nexport default HomePage;\n","export class API {\n  static BASE_URL = 'https://api.themoviedb.org/3';\n  static API_KEY = 'd2e6e8a57d367dba11a443cc5535b322';\n\n  constructor() {\n    this.page = 1;\n    this.query = null;\n  }\n\n  async fetchTrends() {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(\n      `${API.BASE_URL}/trending/movie/day?${searchParams}`\n    );\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    return await res.json();\n  }\n\n  async fetchQuery() {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n      query: this.query,\n    });\n\n    const res = await fetch(`${API.BASE_URL}/search/movie?${searchParams}`);\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    return await res.json();\n  }\n\n  async fetchByID(id) {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(`${API.BASE_URL}/movie/${id}?${searchParams}`);\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    return await res.json();\n  }\n\n  async fetchCast(id) {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(\n      `${API.BASE_URL}/movie/${id}/credits?${searchParams}`\n    );\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    const { cast } = await res.json();\n    return cast.map(({ name, character, id, profile_path }) => ({\n      name,\n      character,\n      id,\n      profile_path,\n    }));\n  }\n\n  async fetchReviews(id) {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(\n      `${API.BASE_URL}/movie/${id}/reviews?${searchParams}`\n    );\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    const { results } = await res.json();\n    return results.map(({ author, content, id }) => ({ author, content, id }));\n  }\n}\n\nexport default API;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["api","API","useState","trends","setTrends","loading","setLoading","fetchTrends","results","console","log","message","useEffect","getTrends","Boolean","array","this","page","query","searchParams","URLSearchParams","api_key","API_KEY","fetch","BASE_URL","res","ok","Promise","reject","Error","json","id","cast","map","name","character","profile_path","author","content","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","value","error","done","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined"],"sourceRoot":""}