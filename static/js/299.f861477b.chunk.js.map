{"version":3,"file":"static/js/299.f861477b.chunk.js","mappings":"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","sources":["pages/CastPage/CastPage.style.js","pages/CastPage/CastPage.jsx","services/API.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ul`\n  list-style-type: none;\n  display: flex;\n  gap: 30px;\n  flex-wrap: wrap;\n`;\nexport const Item = styled.li`\n  margin-left: 0;\n  margin-bottom: 40px;\n  font-weight: 500;\n`;\n","import { useState, useEffect } from 'react';\n\nimport { useParams } from 'react-router-dom';\n\nimport API from 'services/API';\nimport { Item, List } from './CastPage.style';\n\nconst api = new API();\n\nfunction CastPage() {\n  const { movieId } = useParams();\n  const [cast, setCast] = useState(null);\n\n  useEffect(() => {\n    getDetails(movieId);\n  }, [movieId]);\n\n  async function getDetails(id) {\n    try {\n      const data = await api.fetchCast(id);\n      setCast(data);\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n  if (!cast) return null;\n\n  return (\n    <>\n      <h2>Cast</h2>\n      <List>\n        {cast.length > 0 ? (\n          cast.map(({ name, character, id, profile_path }) => (\n            <Item key={id}>\n              <img\n                src={\n                  profile_path &&\n                  'https://image.tmdb.org/t/p/w200' + profile_path\n                }\n                alt=\"{name}\"\n              />\n              <p>{name}</p>\n              <p>Character: {character}</p>\n            </Item>\n          ))\n        ) : (\n          <p>We don't have any cast for this movie.</p>\n        )}\n      </List>\n    </>\n  );\n}\n\nexport default CastPage;\n","export class API {\n  static BASE_URL = 'https://api.themoviedb.org/3';\n  static API_KEY = 'd2e6e8a57d367dba11a443cc5535b322';\n\n  constructor() {\n    this.page = 1;\n    this.query = null;\n  }\n\n  async fetchTrends() {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(\n      `${API.BASE_URL}/trending/movie/day?${searchParams}`\n    );\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    return await res.json();\n  }\n\n  async fetchQuery() {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n      query: this.query,\n    });\n\n    const res = await fetch(`${API.BASE_URL}/search/movie?${searchParams}`);\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    return await res.json();\n  }\n\n  async fetchByID(id) {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(`${API.BASE_URL}/movie/${id}?${searchParams}`);\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    return await res.json();\n  }\n\n  async fetchCast(id) {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(\n      `${API.BASE_URL}/movie/${id}/credits?${searchParams}`\n    );\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    const { cast } = await res.json();\n    return cast.map(({ name, character, id, profile_path }) => ({\n      name,\n      character,\n      id,\n      profile_path,\n    }));\n  }\n\n  async fetchReviews(id) {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(\n      `${API.BASE_URL}/movie/${id}/reviews?${searchParams}`\n    );\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    const { results } = await res.json();\n    return results.map(({ author, content, id }) => ({ author, content, id }));\n  }\n}\n\nexport default API;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["List","styled","Item","api","API","movieId","useParams","useState","cast","setCast","id","fetchCast","data","console","log","message","useEffect","getDetails","length","map","name","character","profile_path","src","alt","this","page","query","searchParams","URLSearchParams","api_key","API_KEY","fetch","BASE_URL","res","ok","Promise","reject","Error","json","results","author","content","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","value","error","done","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined"],"sourceRoot":""}