{"version":3,"file":"static/js/511.0c1d03d3.chunk.js","mappings":"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","sources":["pages/Reviews/Reviews.style.js","pages/Reviews/Reviews.jsx","services/API.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ul`\n  list-style-type: none;\n  font-weight: 500;\n`;\n","import { useState, useEffect } from 'react';\n\nimport { useParams } from 'react-router-dom';\n\nimport API from 'services/API';\nimport { List } from './Reviews.style';\n\nconst api = new API();\n\nfunction ReviewsPage() {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState(null);\n\n  useEffect(() => {\n    getDetails(movieId);\n  }, [movieId]);\n\n  async function getDetails(id) {\n    try {\n      const data = await api.fetchReviews(id);\n      setReviews(data);\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n  if (!reviews) return null;\n\n  return (\n    <>\n      <h2>Reviews</h2>\n      <List>\n        {reviews.length > 0 ? (\n          reviews.map(({ author, content, id }) => (\n            <li key={id}>\n              <b>{author}</b>\n              <p>{content}</p>\n            </li>\n          ))\n        ) : (\n          <p>We don't have any reviews for this movie.</p>\n        )}\n      </List>\n    </>\n  );\n}\n\nexport default ReviewsPage;\n","export class API {\n  static BASE_URL = 'https://api.themoviedb.org/3';\n  static API_KEY = 'd2e6e8a57d367dba11a443cc5535b322';\n\n  constructor() {\n    this.page = 1;\n    this.query = null;\n  }\n\n  async fetchTrends() {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(\n      `${API.BASE_URL}/trending/movie/day?${searchParams}`\n    );\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    return await res.json();\n  }\n\n  async fetchQuery() {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n      query: this.query,\n    });\n\n    const res = await fetch(`${API.BASE_URL}/search/movie?${searchParams}`);\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    return await res.json();\n  }\n\n  async fetchByID(id) {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(`${API.BASE_URL}/movie/${id}?${searchParams}`);\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    return await res.json();\n  }\n\n  async fetchCast(id) {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(\n      `${API.BASE_URL}/movie/${id}/credits?${searchParams}`\n    );\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    const { cast } = await res.json();\n    return cast.map(({ name, character, id, profile_path }) => ({\n      name,\n      character,\n      id,\n      profile_path,\n    }));\n  }\n\n  async fetchReviews(id) {\n    const searchParams = new URLSearchParams({\n      api_key: API.API_KEY,\n    });\n\n    const res = await fetch(\n      `${API.BASE_URL}/movie/${id}/reviews?${searchParams}`\n    );\n    if (!res.ok) {\n      return Promise.reject(new Error('Not found'));\n    }\n    const { results } = await res.json();\n    return results.map(({ author, content, id }) => ({ author, content, id }));\n  }\n}\n\nexport default API;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["List","styled","api","API","movieId","useParams","useState","reviews","setReviews","id","fetchReviews","data","console","log","message","useEffect","getDetails","length","map","author","content","this","page","query","searchParams","URLSearchParams","api_key","API_KEY","fetch","BASE_URL","res","ok","Promise","reject","Error","json","cast","name","character","profile_path","results","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","value","error","done","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined"],"sourceRoot":""}